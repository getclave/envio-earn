# ACCOUNTS

type Account {
  id: ID!
  address: String! @index
  idleBalances: [AccountIdleBalance!]! @derivedFrom(field: "address")
  earnBalances: [AccountEarnBalance!]! @derivedFrom(field: "userAddress")
  historicalIdleBalances: [HistoricalAccountIdleBalance!]! @derivedFrom(field: "address")
}

# IDLE

type AccountIdleBalance {
  id: ID!
  address: String! @index
  balance: BigInt!
  token: Token! @index
}

type HistoricalAccountIdleBalance {
  id: ID!
  address: String! @index
  balance: BigInt!
  token: Token! @index
  timestamp: BigInt! @index
}

# UTILITIES

type Token {
  id: ID!
  name: String
  symbol: String
  decimals: Int
}

# EARN

enum Protocol {
  Venus
  Syncswap
  Clagg
}

type AccountEarnBalance {
  id: ID!
  userAddress: String! @index
  poolAddress: String! @index
  protocol: Protocol! @index
  shareBalance: BigInt!
}

type VenusPool {
  id: ID!
  address: String! @index
  name: String
  symbol: String
  underlyingToken: Token @index
  tokenPerShare: BigInt!
  protocol: Protocol!
}

type SyncswapPool {
  id: ID!
  name: String
  symbol: String
  address: String! @index
  underlyingToken: Token @index
  underlyingToken2: Token @index
  poolType: BigInt
  token0PrecisionMultiplier: BigInt
  token1PrecisionMultiplier: BigInt
  reserve0: BigInt!
  reserve1: BigInt!
  totalSupply: BigInt!
  protocol: Protocol!
}

type ClaggPool {
  id: ID!
  address: String! @index
  underlyingToken: Token @index
  adapter: ClaggAdapter
  totalLiquidity: BigInt
  totalSupply: BigInt
  protocol: Protocol!
}

type ClaggAdapter {
  id: ID!
  address: String! @index
}
